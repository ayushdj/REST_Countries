{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ayushdhananjai/Documents/Padlet_Interview/ayush_countries_page/ayush_countries/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ayushdhananjai/Documents/Padlet_Interview/ayush_countries_page/ayush_countries/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ayushdhananjai/Documents/Padlet_Interview/ayush_countries_page/ayush_countries/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./specificCountry.css';import{useState,useEffect}from'react';import{useParams}from'react-router-dom';import Button from'@mui/material/Button';import{useNavigate,Link,Redirect}from\"react-router-dom\";import{Col,Row}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SpecificCountry=function SpecificCountry(_ref){var countryName=_ref.countryName;var obj=useParams();var _useState=useState(obj.specificCountryName),_useState2=_slicedToArray(_useState,2),currentCountryName=_useState2[0],setCurrentCountryName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),currCountryBorders=_useState4[0],setCurrCountryBorders=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoaded=_useState6[0],setIsLoaded=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),currCountryObj=_useState10[0],setCurrCountryObject=_useState10[1];var navigate=useNavigate();/**\n     * This retrieves the country's data\n     * @param {*} countryName \n     */var retrieveSpecificCountryData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(countryName){var response,specificCountryData,joinedCodes,response1,jsonData,names,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://restcountries.com/v2/name/\".concat(countryName,\"/?fullText=true\"),{method:'GET',headers:{Accept:'application/json'}});case 2:response=_context.sent;if(response.ok){_context.next=6;break;}setError(\"Unable to load the data. Please reload the page and try again\");return _context.abrupt(\"return\");case 6:_context.next=8;return response.json();case 8:specificCountryData=_context.sent;setCurrCountryObject(specificCountryData[0]);setError('');setIsLoaded(true);if(!(specificCountryData[0].borders!==undefined)){_context.next=30;break;}joinedCodes=specificCountryData[0].borders.join();_context.next=16;return fetch(\"https://restcountries.com/v2/alpha?codes=\".concat(joinedCodes));case 16:response1=_context.sent;if(response1.ok){_context.next=22;break;}setError(\"Unable to load the data. Please reload the page and try again\");return _context.abrupt(\"return\");case 22:_context.next=24;return response1.json();case 24:jsonData=_context.sent;names=[];console.log(jsonData);for(i=0;i<jsonData.length;i++){names.push(jsonData[i].name);}setIsLoaded(true);setCurrCountryBorders(names);case 30:case\"end\":return _context.stop();}},_callee);}));return function retrieveSpecificCountryData(_x){return _ref2.apply(this,arguments);};}();var navigateToNewPage=function navigateToNewPage(countryName){navigate(\"/specificCountry/\".concat(countryName),{replace:true});navigate(0);};var navigateBack=function navigateBack(){navigate(-1);};useEffect(function(){retrieveSpecificCountryData(currentCountryName);},[]);if(error!==''){}else if(!isLoaded){return/*#__PURE__*/_jsx(\"div\",{className:\"container loading_msg\",children:\"Loading...\"});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"back_button\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return navigateBack();},variant:\"contained\",children:\"Back\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flags_and_stats\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flag_left\",children:/*#__PURE__*/_jsx(\"img\",{src:currCountryObj.flag,className:\"country_flag\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"information_right\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"country_name\",children:currCountryObj.name})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats_div\",children:[/*#__PURE__*/_jsxs(Row,{className:\"topRow\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{style:{color:'white'},children:[\" Native Name: \",currCountryObj.nativeName]})}),currCountryObj.topLevelDomain===undefined?/*#__PURE__*/_jsx(\"span\",{}):/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Top Level Domain: \",currCountryObj.topLevelDomain[0]]})})]}),/*#__PURE__*/_jsxs(Row,{children:[currCountryObj.population===undefined?/*#__PURE__*/_jsx(\"span\",{}):/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Population: \",currCountryObj.population.toLocaleString()]})}),currCountryObj.currencies===undefined?/*#__PURE__*/_jsx(\"span\",{}):/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Currencies: \",currCountryObj.currencies.map(function(each){return each.name;})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Region: \",currCountryObj.region]})}),currCountryObj.languages===undefined?/*#__PURE__*/_jsx(\"span\",{}):/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Languages: \",currCountryObj.languages.map(function(each){return each.name;})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Sub Region: \",currCountryObj.subregion]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Capital: \",currCountryObj.capital]})})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Borders:\",currCountryBorders===[]?/*#__PURE__*/_jsx(\"span\",{style:{color:'white'},children:\" Borders: No borders \"}):currCountryBorders.map(function(each){return/*#__PURE__*/_jsx(Button,{value:each,onClick:function onClick(e){return navigateToNewPage(e.target.value);},children:each});})]})]})]})]});}};export default SpecificCountry;","map":{"version":3,"names":["React","useState","useEffect","useParams","Button","useNavigate","Link","Redirect","Col","Row","SpecificCountry","countryName","obj","specificCountryName","currentCountryName","setCurrentCountryName","currCountryBorders","setCurrCountryBorders","isLoaded","setIsLoaded","error","setError","currCountryObj","setCurrCountryObject","navigate","retrieveSpecificCountryData","fetch","method","headers","Accept","response","ok","json","specificCountryData","borders","undefined","joinedCodes","join","response1","jsonData","names","console","log","i","length","push","name","navigateToNewPage","replace","navigateBack","flag","color","nativeName","topLevelDomain","population","toLocaleString","currencies","map","each","region","languages","subregion","capital","e","target","value"],"sources":["/Users/ayushdhananjai/Documents/Padlet_Interview/ayush_countries_page/ayush_countries/src/components/specificCountry/specificCountry.jsx"],"sourcesContent":["import React from 'react';\nimport './specificCountry.css';\nimport {useState, useEffect} from 'react';\nimport {useParams} from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport { useNavigate, Link, Redirect } from \"react-router-dom\";\nimport {Col, Row} from 'react-bootstrap';\n\nconst SpecificCountry = ({countryName}) => {\n    const obj = useParams();\n    const [currentCountryName, setCurrentCountryName] = useState(obj.specificCountryName);\n    const [currCountryBorders, setCurrCountryBorders] = useState([]);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [currCountryObj, setCurrCountryObject] = useState({});\n    const navigate = useNavigate();\n\n\n    /**\n     * This retrieves the country's data\n     * @param {*} countryName \n     */\n    const retrieveSpecificCountryData = async (countryName) => {\n        const response = await fetch(`https://restcountries.com/v2/name/${countryName}/?fullText=true`, {\n                method: 'GET',\n                headers: {\n                    Accept: 'application/json',\n                },\n             });\n        if (!response.ok) {\n            setError(\"Unable to load the data. Please reload the page and try again\");\n            return;\n        } \n        const specificCountryData = await response.json();\n        setCurrCountryObject(specificCountryData[0]);\n        setError('');\n        setIsLoaded(true);\n        \n        if (specificCountryData[0].borders !== undefined) {\n            let joinedCodes = specificCountryData[0].borders.join();\n            const response1 = await fetch(`https://restcountries.com/v2/alpha?codes=${joinedCodes}`);\n            if (!response1.ok) {\n                setError(\"Unable to load the data. Please reload the page and try again\");\n                return;\n            } else {\n                const jsonData = await response1.json();\n                let names = [];\n                console.log(jsonData);\n                for (let i = 0; i < jsonData.length; i++) {\n                    names.push(jsonData[i].name);\n                }\n                setIsLoaded(true);\n                setCurrCountryBorders(names);\n                \n            }\n\n            \n        }\n        \n    }\n\n    const navigateToNewPage = (countryName) => {\n        navigate(`/specificCountry/${countryName}`, { replace: true });\n        navigate(0);\n\n    }\n\n    const navigateBack = () => {\n        navigate(-1);\n    }\n\n    useEffect(() => {\n        retrieveSpecificCountryData(currentCountryName);\n    }, []);\n\n    if (error !== '') {\n\n    } \n    else if (!isLoaded) {\n        return <div className=\"container loading_msg\">Loading...</div>\n    } \n    \n    else {\n        return (\n            <>\n                <div className=\"back_button\">\n                    <Button onClick={() => navigateBack()} variant=\"contained\">Back</Button>\n                </div>\n    \n                <div className=\"flags_and_stats\">\n                    <div className=\"flag_left\">\n                        <img src={currCountryObj.flag} className=\"country_flag\"/>\n                    </div>\n                    <div className=\"information_right\">\n                        <div>\n                            <Row>\n                                <h5 className=\"country_name\">{currCountryObj.name}</h5>\n                            </Row>\n                        </div>\n    \n                        \n                        <div className='stats_div'>\n                            <Row className=\"topRow\">\n                                <Col><span style={{color:'white'}}> Native Name: {currCountryObj.nativeName}</span></Col>\n                                {currCountryObj.topLevelDomain === undefined ? <span></span> : <Col><span>Top Level Domain: {currCountryObj.topLevelDomain[0]}</span></Col>}\n                            </Row>\n                            <Row>\n                                {currCountryObj.population === undefined ? <span></span> :<Col><span>Population: {currCountryObj.population.toLocaleString()}</span></Col>}\n                                {currCountryObj.currencies === undefined ? <span></span> :<Col><span>Currencies: {currCountryObj.currencies.map((each) => each.name)}</span></Col>}\n                            </Row>\n                            <Row>\n                                <Col><span>Region: {currCountryObj.region}</span></Col>\n                                {currCountryObj.languages === undefined ? <span></span> :<Col><span>Languages: {currCountryObj.languages.map((each) => each.name)}</span></Col>}\n                            </Row>\n                            <Row>\n                                <Col><span>Sub Region: {currCountryObj.subregion}</span></Col>\n                            </Row>\n                            <Row>\n                                <Col><span>Capital: {currCountryObj.capital}</span></Col>\n                            </Row>\n                        </div>\n\n                        <div>\n                            Borders: \n                            {currCountryBorders === [] ?  <span style={{color:'white'}}> Borders: No borders </span> : \n                            currCountryBorders.map((each) => (\n                                <Button value={each} onClick={(e) => navigateToNewPage(e.target.value)}>\n                                     {each}\n                                </Button>\n                            ))\n                            }\n                        </div>    \n                    </div>\n                </div>\n            </>\n        )\n    }\n\n\n}\n\nexport default SpecificCountry;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}